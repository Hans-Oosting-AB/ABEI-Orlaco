<?xml version="1.0" encoding="utf-8"?><jobs><instanceguid>d9025c07-3898-433f-88ee-c5899cf947e7</instanceguid><job><id>474</id><jobname>05.5 - NEW: EG &gt; ESE Sync - Items</jobname><disable>False</disable><emailbody /><emailmode>1</emailmode><emailsubject /><emailto>lennart.meeuse@stoneridge.com</emailto><remarks></remarks><schedulename /><schedulesettings>freq=1;timescale=hours;startat=16:47:39;beginat=05:50:52;endat=20:50:52;day1=-1;day2=-1;day3=-1;day4=-1;day5=-1;day6=0;day7=0;enabled=-1</schedulesettings><settings></settings><settingsxml><settings><schedule><allowmultipleprocessorinstances>false</allowmultipleprocessorinstances></schedule><general><maxjobstepactions>200</maxjobstepactions></general><jobparams /></settings></settingsxml><steps><step><id>2799</id><entity>-none-</entity><action>exec SQL</action><source>129</source><target>1</target><datasource>print '-- Sync %abeitargetdb% ------------------------------------------'</datasource><contentbody /><mapping /><disable>0</disable><remarks /><replace /><seqno>0</seqno><settings /><settingsxml /><stepname>-- Sync 400 ------------------------------------------</stepname></step><step><id>2810</id><entity>Item</entity><action>update</action><source>129</source><target>1</target><datasource>SELECT  
i.*
FROM dbo._AB_vw_EG_Sync_Items i WITH (NOLOCK)
    -- Synergy
    INNER JOIN [%abeitargetdb%].dbo.Items ig WITH (NOLOCK)
        ON ig.ItemCode = i.ItemCode
WHERE 
i.EG_sysmodified &gt; ig.sysmodified -- modified
or ISNULL(i.Userfield_06,'') &lt;&gt; ISNULL(ig.userfield_06,'') collate database_default -- set items
or i.Condition &lt;&gt; ig.condition
or ABS(i.SalesPackagePrice - ig.SalesPackagePrice) &gt;0.01</datasource><contentbody></contentbody><mapping></mapping><disable>0</disable><remarks></remarks><replace></replace><seqno>10</seqno><settings>uniquekey=;retryunique=0;</settings><settingsxml><settings><general><gen_datasource_method>0</gen_datasource_method><target_override /><referencekey /><datacolumns><datacolumn><name>ItemCode</name><type>String</type></datacolumn><datacolumn><name>Description</name><type>String</type></datacolumn><datacolumn><name>SecurityLevel</name><type>Int32</type></datacolumn><datacolumn><name>Type</name><type>String</type></datacolumn><datacolumn><name>Assortment</name><type>Int32</type></datacolumn><datacolumn><name>Class_01</name><type>String</type></datacolumn><datacolumn><name>Class_02</name><type>String</type></datacolumn><datacolumn><name>Class_03</name><type>String</type></datacolumn><datacolumn><name>Class_04</name><type>String</type></datacolumn><datacolumn><name>Class_05</name><type>String</type></datacolumn><datacolumn><name>Class_06</name><type>String</type></datacolumn><datacolumn><name>Class_07</name><type>String</type></datacolumn><datacolumn><name>Class_08</name><type>String</type></datacolumn><datacolumn><name>Class_09</name><type>String</type></datacolumn><datacolumn><name>Class_10</name><type>String</type></datacolumn><datacolumn><name>IsSalesItem</name><type>Boolean</type></datacolumn><datacolumn><name>IsPurchaseItem</name><type>Boolean</type></datacolumn><datacolumn><name>IsServiceItem</name><type>Boolean</type></datacolumn><datacolumn><name>IsTextItem</name><type>Boolean</type></datacolumn><datacolumn><name>IsStockItem</name><type>Boolean</type></datacolumn><datacolumn><name>IsSerialNumberItem</name><type>Boolean</type></datacolumn><datacolumn><name>IsSubAssemblyItem</name><type>Boolean</type></datacolumn><datacolumn><name>IsPriceRegulationItem</name><type>Boolean</type></datacolumn><datacolumn><name>IsBackOrderItem</name><type>Boolean</type></datacolumn><datacolumn><name>IsFractionAllowedItem</name><type>Boolean</type></datacolumn><datacolumn><name>IsPrintItem</name><type>Boolean</type></datacolumn><datacolumn><name>WareHouse</name><type>String</type></datacolumn><datacolumn><name>CostPriceCurrency</name><type>String</type></datacolumn><datacolumn><name>CostPriceCalculated</name><type>Double</type></datacolumn><datacolumn><name>CostPriceCalculatedManually</name><type>Double</type></datacolumn><datacolumn><name>CostPriceStandard</name><type>Double</type></datacolumn><datacolumn><name>SalesPriceType</name><type>Int32</type></datacolumn><datacolumn><name>UserField_01</name><type>String</type></datacolumn><datacolumn><name>UserField_06</name><type>String</type></datacolumn><datacolumn><name>UserField_08</name><type>String</type></datacolumn><datacolumn><name>UserField_09</name><type>String</type></datacolumn><datacolumn><name>UserField_10</name><type>String</type></datacolumn><datacolumn><name>UserDate_01</name><type>DateTime</type></datacolumn><datacolumn><name>UserDate_02</name><type>DateTime</type></datacolumn><datacolumn><name>UserDate_03</name><type>DateTime</type></datacolumn><datacolumn><name>UserDate_04</name><type>DateTime</type></datacolumn><datacolumn><name>UserDate_05</name><type>DateTime</type></datacolumn><datacolumn><name>UserNumber_03</name><type>Double</type></datacolumn><datacolumn><name>UserNumber_04</name><type>Double</type></datacolumn><datacolumn><name>UserNumber_05</name><type>Double</type></datacolumn><datacolumn><name>UserNumber_06</name><type>Double</type></datacolumn><datacolumn><name>UserNumber_07</name><type>Double</type></datacolumn><datacolumn><name>UserNumber_08</name><type>Double</type></datacolumn><datacolumn><name>UserNumber_09</name><type>Double</type></datacolumn><datacolumn><name>UserNumber_10</name><type>Double</type></datacolumn><datacolumn><name>UserNumber_11</name><type>Double</type></datacolumn><datacolumn><name>UserNumber_13</name><type>Double</type></datacolumn><datacolumn><name>UserYesNo_01</name><type>Boolean</type></datacolumn><datacolumn><name>UserYesNo_02</name><type>Boolean</type></datacolumn><datacolumn><name>UserYesNo_04</name><type>Boolean</type></datacolumn><datacolumn><name>UserYesNo_05</name><type>Boolean</type></datacolumn><datacolumn><name>ItemCodeReplacement</name><type>String</type></datacolumn><datacolumn><name>ItemType</name><type>String</type></datacolumn><datacolumn><name>IsAssembled</name><type>Byte</type></datacolumn><datacolumn><name>SearchCode</name><type>String</type></datacolumn><datacolumn><name>eenh_verk</name><type>String</type></datacolumn><datacolumn><name>aant_verp</name><type>Double</type></datacolumn><datacolumn><name>SalesPrice</name><type>Double</type></datacolumn><datacolumn><name>SalesPackagePrice</name><type>Double</type></datacolumn><datacolumn><name>SalesVatCode</name><type>String</type></datacolumn><datacolumn><name>PurchaseVatCode</name><type>String</type></datacolumn><datacolumn><name>StatisticalNumber</name><type>String</type></datacolumn><datacolumn><name>SerialBatchItem</name><type>String</type></datacolumn><datacolumn><name>IsBatchItem</name><type>Byte</type></datacolumn><datacolumn><name>IsBackToBackOrder</name><type>Byte</type></datacolumn><datacolumn><name>StatisticalUnits</name><type>Double</type></datacolumn><datacolumn><name>NetWeight</name><type>Double</type></datacolumn><datacolumn><name>GrossWeight</name><type>Double</type></datacolumn><datacolumn><name>ExtraDutyVATcode</name><type>String</type></datacolumn><datacolumn><name>SalesMarginPercent</name><type>Double</type></datacolumn><datacolumn><name>STATUS</name><type>String</type></datacolumn><datacolumn><name>Condition</name><type>String</type></datacolumn><datacolumn><name>IsDiscount</name><type>Byte</type></datacolumn><datacolumn><name>IsExplode</name><type>Byte</type></datacolumn><datacolumn><name>lev_crdnr</name><type>String</type></datacolumn><datacolumn><name>Percentage_1</name><type>Double</type></datacolumn><datacolumn><name>Percentage_2</name><type>Double</type></datacolumn><datacolumn><name>Description_0</name><type>String</type></datacolumn><datacolumn><name>Description_1</name><type>String</type></datacolumn><datacolumn><name>Description_2</name><type>String</type></datacolumn><datacolumn><name>Description_3</name><type>String</type></datacolumn><datacolumn><name>Description_4</name><type>String</type></datacolumn><datacolumn><name>TextDescription</name><type>String</type></datacolumn><datacolumn><name>GLAccountRevenue</name><type>String</type></datacolumn><datacolumn><name>GLAccountCost</name><type>String</type></datacolumn><datacolumn><name>GLAccountDistribution</name><type>String</type></datacolumn><datacolumn><name>GLAccountAsset</name><type>String</type></datacolumn><datacolumn><name>LevelCode</name><type>Int32</type></datacolumn><datacolumn><name>CountingCycle</name><type>Int16</type></datacolumn><datacolumn><name>RequiresApprovedSupplier</name><type>Byte</type></datacolumn><datacolumn><name>OrderPolicyCode</name><type>String</type></datacolumn><datacolumn><name>PeriodOrderDays</name><type>Int32</type></datacolumn><datacolumn><name>StatisticalFactorSales</name><type>Double</type></datacolumn><datacolumn><name>StatisticalFactorPurchase</name><type>Double</type></datacolumn><datacolumn><name>TaxItemClassification</name><type>Int32</type></datacolumn><datacolumn><name>ConfigurationClass</name><type>String</type></datacolumn><datacolumn><name>ValuationMethod</name><type>String</type></datacolumn><datacolumn><name>Shelflife</name><type>Int32</type></datacolumn><datacolumn><name>Warranty</name><type>Int32</type></datacolumn><datacolumn><name>EG_sysmodified</name><type>DateTime</type></datacolumn><datacolumn><name>sysmodified</name><type>DateTime</type></datacolumn></datacolumns></general></settings></settingsxml><stepname>EG -&gt; ESE - Update</stepname></step><step><id>2811</id><entity>Item</entity><action>create</action><source>129</source><target>1</target><datasource>SELECT Top 100 PERCENT i.*
FROM dbo._AB_vw_EG_Sync_Items i WITH (NOLOCK)
WHERE NOT EXISTS (SELECT 1 FROM [%abeitargetdb%].dbo.Items ig WITH (NOLOCK) WHERE ig.ItemCode = i.ItemCode)
AND (i.Condition = 'A' or i.Condition = 'F') -- Only create active or future items</datasource><contentbody /><mapping /><disable>0</disable><remarks /><replace /><seqno>20</seqno><settings /><settingsxml /><stepname>EG -&gt; ESE - Create</stepname></step><step><id>2798</id><entity>Item</entity><action>update</action><source>129</source><target>1</target><datasource>SELECT ItemCode, 
'B' AS Condition, 
'[' + CONVERT(VARCHAR,GETDATE(),105) + '] ' + 'Item blocked because it does not exists in Globe 400 - Orlaco Products' AS UserField_07
FROM [%abeitargetdb%].dbo.items WITH (NOLOCK) 
WHERE ItemCode NOT IN (SELECT ItemCode FROM [%abeisourcedb%].dbo._AB_vw_EG_Sync_Items)
AND Condition != 'B' AND (Type = 'S' OR Type = 'B')</datasource><contentbody></contentbody><mapping></mapping><disable>0</disable><remarks></remarks><replace></replace><seqno>30</seqno><settings>uniquekey=;retryunique=0;</settings><settingsxml><settings><general><gen_datasource_method>2</gen_datasource_method><target_override /><referencekey /><datacolumns><datacolumn><name>cnt_id</name><type>Guid</type></datacolumn><datacolumn><name>cmp_wwn</name><type>Guid</type></datacolumn><datacolumn><name>MainContact</name><type>Int32</type></datacolumn><datacolumn><name>cnt_acc_man</name><type>Int32</type></datacolumn><datacolumn><name>textfield5</name><type>String</type></datacolumn><datacolumn><name>ESE_cmp_code</name><type>String</type></datacolumn><datacolumn><name>cnt_f_name</name><type>String</type></datacolumn><datacolumn><name>cnt_l_name</name><type>String</type></datacolumn><datacolumn><name>cnt_m_name</name><type>String</type></datacolumn><datacolumn><name>FullName</name><type>String</type></datacolumn><datacolumn><name>Initials</name><type>String</type></datacolumn><datacolumn><name>Gender</name><type>String</type></datacolumn><datacolumn><name>predcode</name><type>String</type></datacolumn><datacolumn><name>cnt_job_desc</name><type>String</type></datacolumn><datacolumn><name>cnt_dept</name><type>String</type></datacolumn><datacolumn><name>taalcode</name><type>String</type></datacolumn><datacolumn><name>cnt_f_ext</name><type>String</type></datacolumn><datacolumn><name>cnt_f_fax</name><type>String</type></datacolumn><datacolumn><name>cnt_f_tel</name><type>String</type></datacolumn><datacolumn><name>cnt_f_mobile</name><type>String</type></datacolumn><datacolumn><name>cnt_email</name><type>String</type></datacolumn><datacolumn><name>ESE_cnt_acc_man</name><type>Int32</type></datacolumn><datacolumn><name>ESE_active</name><type>Byte</type></datacolumn><datacolumn><name>WebAccess</name><type>Byte</type></datacolumn><datacolumn><name>datefield1</name><type>DateTime</type></datacolumn><datacolumn><name>datefield2</name><type>DateTime</type></datacolumn><datacolumn><name>datefield3</name><type>DateTime</type></datacolumn><datacolumn><name>datefield4</name><type>DateTime</type></datacolumn><datacolumn><name>datefield5</name><type>DateTime</type></datacolumn><datacolumn><name>numberfield1</name><type>Double</type></datacolumn><datacolumn><name>numberfield2</name><type>Double</type></datacolumn><datacolumn><name>numberfield3</name><type>Double</type></datacolumn><datacolumn><name>numberfield4</name><type>Double</type></datacolumn><datacolumn><name>numberfield5</name><type>Double</type></datacolumn><datacolumn><name>YesNoField1</name><type>Byte</type></datacolumn><datacolumn><name>YesNoField2</name><type>Byte</type></datacolumn><datacolumn><name>YesNoField3</name><type>Byte</type></datacolumn><datacolumn><name>YesNoField4</name><type>Byte</type></datacolumn><datacolumn><name>YesNoField5</name><type>Byte</type></datacolumn><datacolumn><name>textfield1</name><type>String</type></datacolumn><datacolumn><name>textfield2</name><type>String</type></datacolumn><datacolumn><name>textfield3</name><type>String</type></datacolumn><datacolumn><name>textfield4</name><type>String</type></datacolumn><datacolumn><name>cntp_Directory</name><type>String</type></datacolumn><datacolumn><name>ContactChange</name><type>Boolean</type></datacolumn><datacolumn><name>datemodified</name><type>DateTime</type></datacolumn></datacolumns></general></settings></settingsxml><stepname>EG -&gt; ESE - Diff</stepname></step></steps></job></jobs>